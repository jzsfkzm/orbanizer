var config = {
  'Orbán Viktoréknak': [
    'Mészáros Lőrincéknek',
    'Tiborcz Istvánéknak',
    'Garancsi Istvánéknak',
    'Andy Vajnáéknak',
    'Flier Jánoséknak'
  ],
  'Orbán Viktorékról': [
    'Mészáros Lőrincékről',
    'Tiborcz Istvánékról',
    'Garancsi Istvánékról',
    'Andy Vajnáékról',
    'Flier Jánosékról'
  ],
  'Orbán Viktorékat': [
    'Mészáros Lőrincéket',
    'Tiborcz Istvánékat',
    'Garancsi Istvánékat',
    'Andy Vajnáékat',
    'Flier Jánosékat'
  ],
  'Orbán Viktorékhoz': [
    'Mészáros Lőrincékhez',
    'Tiborcz Istvánékhoz',
    'Garancsi Istvánékhoz',
    'Andy Vajnáékhoz',
    'Flier Jánosékhoz'
  ],
  'Orbán Viktoréké': [
    'Mészáros Lőrincéké',
    'Tiborcz Istvánéké',
    'Garancsi Istvánéké',
    'Andy Vajnáéké',
    'Flier Jánoséké'
  ],
  'Orbán Viktoréktól': [
    'Mészáros Lőrincéktől',
    'Tiborcz Istvánéktól',
    'Garancsi Istvánéktól',
    'Andy Vajnáéktól',
    'Flier Jánoséktól'
  ],
  'Orbán Viktorékkal': [
    'Mészáros Lőrincékkel',
    'Tiborcz Istvánékkal',
    'Garancsi Istvánékkal',
    'Andy Vajnáékkal',
    'Flier Jánosékkal'
  ],
  'Orbán Viktorékra': [
    'Mészáros Lőrincékre',
    'Tiborcz Istvánékra',
    'Garancsi Istvánékra',
    'Andy Vajnáékra',
    'Flier Jánosékra'
  ],
  'Orbán Viktoréknál': [
    'Mészáros Lőrincéknél',
    'Tiborcz Istvánéknál',
    'Garancsi Istvánéknál',
    'Andy Vajnáéknál',
    'Flier Jánoséknál'
  ],
  'Orbán Viktoréken': [
    'Mészáros Lőrincéken',
    'Tiborcz Istvánékon',
    'Garancsi Istvánékon',
    'Andy Vajnáékn',
    'Flier Jánosékon'
  ],
  'Orbán Viktorék': [
    'Mészáros Lőrincék',
    'Tiborcz Istvánék',
    'Garancsi Istvánék',
    'Andy Vajnaék',
    'Flier Jánosék'
  ],


  'Orbán Viktoroknak': [
    'Mészáros Lőrinceknek',
    'Tiborcz Istvánoknak',
    'Garancsi Istvánoknak',
    'Andy Vajnáknak',
    'Flier Jánosoknak'
  ],
  'Orbán Viktorokról': [
    'Mészáros Lőrincekről',
    'Tiborcz Istvánokról',
    'Garancsi Istvánokról',
    'Andy Vajnákról',
    'Flier Jánosokról'
  ],
  'Orbán Viktorokat': [
    'Mészáros Lőrinceket',
    'Tiborcz Istvánokat',
    'Garancsi Istvánokat',
    'Andy Vajnákat',
    'Flier Jánosokat'
  ],
  'Orbán Viktorokhoz': [
    'Mészáros Lőrincekhez',
    'Tiborcz Istvánokhoz',
    'Garancsi Istvánokhoz',
    'Andy Vajnákhoz',
    'Flier Jánosokhoz'
  ],
  'Orbán Viktoroké': [
    'Mészáros Lőrinceké',
    'Tiborcz Istvánoké',
    'Garancsi Istvánoké',
    'Andy Vajnáké',
    'Flier Jánosoké'
  ],
  'Orbán Viktoroktól': [
    'Mészáros Lőrincektől',
    'Tiborcz Istvánoktól',
    'Garancsi Istvánoktól',
    'Andy Vajnáktól',
    'Flier Jánosoktól'
  ],
  'Orbán Viktorokkal': [
    'Mészáros Lőrincekkel',
    'Tiborcz Istvánokkal',
    'Garancsi Istvánokkal',
    'Andy Vajnákkal',
    'Flier Jánosokkal'
  ],
  'Orbán Viktorokra': [
    'Mészáros Lőrincekre',
    'Tiborcz Istvánokra',
    'Garancsi Istvánokra',
    'Andy Vajnákra',
    'Flier Jánosokra'
  ],
  'Orbán Viktoroknál': [
    'Mészáros Lőrinceknél',
    'Tiborcz Istvánoknál',
    'Garancsi Istvánoknál',
    'Andy Vajnáknál',
    'Flier Jánosoknál'
  ],
  'Orbán Viktorokon': [
    'Mészáros Lőrinceken',
    'Tiborcz Istvánokon',
    'Garancsi Istvánokon',
    'Andy Vajnákon',
    'Flier Jánosokon'
  ],
  'Orbán Viktorok': [
    'Mészáros Lőrincek',
    'Tiborcz Istvánok',
    'Garancsi Istvánok',
    'Andy Vajnák',
    'Flier Jánosok'
  ],


  'Orbán Viktornak': [
    'Mészáros Lőrincnek',
    'Tiborcz Istvánnak',
    'Garancsi Istvánnak',
    'Andy Vajnának',
    'Flier Jánosnak'
  ],
  'Orbán Viktorról': [
    'Mészáros Lőrincről',
    'Tiborcz Istvánról',
    'Garancsi Istvánról',
    'Andy Vajnáról',
    'Flier Jánosról'
  ],
  'Orbán Viktort': [
    'Mészáros Lőrincet',
    'Tiborcz Istvánt',
    'Garancsi Istvánt',
    'Andy Vajnát',
    'Flier Jánost'
  ],
  'Orbán Viktorhoz': [
    'Mészáros Lőrinchez',
    'Tiborcz Istvánhoz',
    'Garancsi Istvánhoz',
    'Andy Vajnához',
    'Flier Jánoshoz'
  ],
  'Orbán Viktoré': [
    'Mészáros Lőrincé',
    'Tiborcz Istváné',
    'Garancsi Istváné',
    'Andy Vajnáé',
    'Flier Jánosé'
  ],
  'Orbán Viktortól': [
    'Mészáros Lőrinctől',
    'Tiborcz Istvántól',
    'Garancsi Istvántól',
    'Andy Vajnától',
    'Flier Jánostól'
  ],
  'Orbán Viktorral': [
    'Mészáros Lőrinccel',
    'Tiborcz Istvánnal',
    'Garancsi Istvánnal',
    'Andy Vajnával',
    'Flier Jánossal'
  ],
  'Orbán Viktorra': [
    'Mészáros Lőrincre',
    'Tiborcz Istvánra',
    'Garancsi Istvánra',
    'Andy Vajnára',
    'Flier Jánosra'
  ],
  'Orbán Viktornál': [
    'Mészáros Lőrincnél',
    'Tiborcz Istvánnál',
    'Garancsi Istvánnál',
    'Andy Vajnánál',
    'Flier Jánosnál'
  ],
  'Orbán Viktoron': [
    'Mészáros Lőrincen',
    'Tiborcz Istvánon',
    'Garancsi Istvánon',
    'Andy Vajnán',
    'Flier Jánoson'
  ],
  'Orbán Viktor': [
    'Mészáros Lőrinc',
    'Tiborcz István',
    'Garancsi István',
    'Andy Vajna',
    'Flier János'
  ]
};

var elements = document.getElementsByTagName('*');

var textNodes = Array.from(elements).reduce(function(memo, element) {
  return memo.concat(Array.from(element.childNodes).filter(function(node) {
    return node.nodeType === 3;
  }));
}, []);

var textContent = textNodes.map(function(node) {
  return node.nodeValue;
}).join(' ');

var searchPhrases = Object.keys(config).reduce(function(memo, key) {
  return memo.concat(config[key]);
}, []);

var config = Object.keys(config).reduce(function(memo, key) {
  var found = config[key].filter(function(searchPhrase) {
    return new RegExp(searchPhrase, 'gi').test(textContent);
  });

  if (found.length > 0) {
    memo[key] = found;
  }

  return memo;
}, {});

const createSpan = (textNodes, searchPhrase, replacement) => {
  const div = document.createElement('span');
  textNodes.forEach((item, index) => {
    appendTextNode(div, item);
    if (index < textNodes.length - 1) {
      appendStrike(div, searchPhrase, replacement);
    }
  });

  return div;
};

const clearChildren = (parent) => {
  parent.childNodes.forEach(childElement => parent.removeChild(childElement));
}

const appendTextNode = (parent, text) => {
  parent.appendChild(document.createTextNode(text));
}

const appendStrike = (parent, text, replacement) => {
  let strike = document.createElement('strike');
  parent.appendChild(strike);
  appendTextNode(strike, text);
  appendTextNode(parent, ' ' + replacement);
}

textNodes.forEach(function(node) {
  let replaced = false;
  for (replacement in config) {
    config[replacement].forEach(function(searchPhrase) {
      var text = node.nodeValue;
      var foundItems = text.split(searchPhrase);
      if (!replaced && foundItems.length > 1) {
        replaced = true;
        node.parentElement.replaceChild(createSpan(foundItems, searchPhrase, replacement), node);
      }
    });
  };
});
